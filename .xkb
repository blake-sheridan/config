xkb_keymap {
xkb_keycodes { include "evdev" };

xkb_types {
	type "ONE_LEVEL" {
		modifiers = None;

		map[None] = Level1;

		level_name[Level1] = "Any";
	};

	type "TWO_LEVEL" {
		modifiers = Shift;

		map[None]  = Level1;
		map[Shift] = Level2;

		level_name[Level1] = "Base";
		level_name[Level2] = "Shift";
	};

	type "ALPHABETIC" {
		modifiers = Shift+Lock;

		map[None]  = Level1;
		map[Shift] = Level2;
		map[Lock]  = Level2;

		level_name[Level1] = "Lowercase";
		level_name[Level2] = "Uppercase";
	};

	type "THREE_LEVEL" {
		modifiers = Shift+Mod5;

		map[Shift]      = Level2;
		map[Mod5]       = Level3;
		map[Shift+Mod5] = Level3;

		level_name[Level1] = "Base";
		level_name[Level2] = "Shift";
		level_name[Level3] = "Level3";
	};

	type "FOUR_LEVEL" {
		modifiers = Shift+Mod5;

		map[None]       = Level1;
		map[Shift]      = Level2;
		map[Mod5]       = Level3;
		map[Shift+Mod5] = Level4;

		level_name[Level1] = "Base";
		level_name[Level2] = "Shift";
		level_name[Level3] = "Level3";
		level_name[Level4] = "Shift Level3";
  };

	type "KEYPAD" {
		modifiers = Shift;

		map[None]  = Level1;
		map[Shift] = Level2;

		level_name[level1] = "Base";
		level_name[level2] = "Number";
	};
};

xkb_compat {
	interpret.repeat = False;
	setMods.clearLocks = True;
	latchMods.clearLocks = True;
	latchMods.latchToLock = True;

	interpret Any + Any {
		action = SetMods(modifiers=modMapMods);
	};

	interpret Caps_Lock {
		action = LockMods(modifiers=Lock);
	};

	indicator "Caps Lock" {
		!allowExplicit;
		whichModState = Locked;
		modifiers = Lock;
	};

	interpret ISO_Level3_Shift {
		action = SetMods(modifiers=Mod5);
	};
};

xkb_symbols {
	key <ESC>  {[ Escape ]};

	key <FK01> {[ F1 ]};
	key <FK02> {[ F2 ]};
	key <FK03> {[ F3 ]};
	key <FK04> {[ F4 ]};
	key <FK05> {[ F5 ]};
	key <FK06> {[ F6 ]};
	key <FK07> {[ F7 ]};
	key <FK08> {[ F8 ]};
	key <FK09> {[ F9 ]};
	key <FK10> {[ F10 ]};
	key <FK11> {[ F11 ]};
	key <FK12> {[ F12 ]};

  key <TLDE> {[ U0060, U007E ]};
	key <AE01> {[ 1, U0021 ]};
	key <AE02> {[ 2, U0040 ]};
	key <AE03> {[ 3, U0023 ]};
	key <AE04> {[ 4, U0024 ]};
	key <AE05> {[ 5, U0025 ]};
	key <AE06> {[ 6, U005E ]};
	key <AE07> {[ 7, U0026 ]};
	key <AE08> {[ 8, U002A ]};
	key <AE09> {[ 9, U0028 ]};
	key <AE10> {[ 0, U0029 ]};
	key <AE11> {[ U002D, U005F ]};
	key <AE12> {[ U003D, U002B ]};
	key <BKSP> {[ BackSpace, Delete ]}; // FIXME delete?

  key <TAB>  {[ Tab, ISO_Left_Tab ]};
	key <AD01> {[ q, Q, U2227 ], type="THREE_LEVEL"};
	key <AD02> {[ w, W, U2228 ], type="THREE_LEVEL"};
	key <AD03> {[ e, E, U00AC ], type="THREE_LEVEL"};
	key <AD04> {[ r, R ]};
	key <AD05> {[ t, T ]};
	key <AD06> {[ y, Y ]};
	key <AD07> {[ u, U ]};
	key <AD08> {[ i, I, U2022 ], type="THREE_LEVEL"};
	key <AD09> {[ o, O ]};
	key <AD10> {[ p, P ]};
	key <AD11> {[ U005B, U007B, U27E8 ], type="THREE_LEVEL"};
	key <AD12> {[ U005D, U007D, U27E9 ], type="THREE_LEVEL"};
  key <BKSL> {[ U005C, U007C, U2016 ], type="THREE_LEVEL"};

  key <CAPS> {[ Control_L ]};
	key <AC01> {[ a, A, U2190 ], type="THREE_LEVEL"};
	key <AC02> {[ s, S ]};
	key <AC03> {[ d, D, U2192 ], type="THREE_LEVEL"};
	key <AC04> {[ f, F ]};
	key <AC05> {[ g, G ]};
	key <AC06> {[ h, H ]};
	key <AC07> {[ j, J ]};
	key <AC08> {[ k, K ]};
	key <AC09> {[ l, L ]};
	key <AC10> {[ U003B, U003A ]};
	key <AC11> {[ U0027, U0022 ]};
	key <RTRN> {[ Return ]};

	key <LFSH> {[ Shift_L ]};
	key <AB01> {[ z, Z ]};
	key <AB02> {[ x, X, U00D7 ], type="THREE_LEVEL"};
	key <AB03> {[ c, C, U00F7 ], type="THREE_LEVEL"};
	key <AB04> {[ v, V ]};
	key <AB05> {[ b, B ]};
	key <AB06> {[ n, N ]};
	key <AB07> {[ m, M ]};
	key <AB08> {[ U002C, U003C, U22EE ], type="THREE_LEVEL"};
	key <AB09> {[ U002E, U003E, U2026 ], type="THREE_LEVEL"};
	key <AB10> {[ U002F, U003F ]};
	key <RTSH> {[ ISO_Level3_Shift, Caps_Lock ]};

  key <LCTL> {[ Hyper_L ]};
	key <LWIN> {[ Super_L ]};
	key <LALT> {[ Alt_L ]};
	key <SPCE> {[ space ]};
	key <RALT> {[ Multi_key ]};
	key <RCTL> {[ Meta_R ]};

	key <PRSC> {[ Print ]};
	key <SCLK> {[ Scroll_Lock ]};
	key <PAUS> {[ Pause ]};

	key <INS>  {[ Insert ]};
	key <HOME> {[ Home ]};
	key <PGUP> {[ Prior ]};
	key <DELE> {[ Delete ]};
	key <END>  {[ End ]};
	key <PGDN> {[ Next ]};

	key <UP>   {[ Up ]};
	key <LEFT> {[ Left ]};
	key <DOWN> {[ Down ]};
	key <RGHT> {[ Right ]};

	key <NMLK> {[ Num_Lock ]};
	key <KPDV> {[ KP_Divide ]};
	key <KPMU> {[ KP_Multiply ]};
	key <KPSU> {[ KP_Subtract ]};

	key <KP7>  {[ KP_7 ]};
	key <KP8>  {[ KP_8 ]};
	key <KP9>  {[ KP_9 ]};
	key <KPAD> {[ KP_Add ]};

	key <KP4>  {[ KP_4 ]};
	key <KP5>  {[ KP_5 ]};
	key <KP6>  {[ KP_6 ]};

	key <KP1>  {[ KP_1 ]};
	key <KP2>  {[ KP_2 ]};
	key <KP3>  {[ KP_3 ]};
	key <KPEN> {[ KP_Enter ]};

	key <KP0>  {[ KP_0 ]};
	key <KPDL> {[ KP_Decimal ]};

	modifier_map Shift   { Shift_L };
	modifier_map Lock    { Caps_Lock };
	modifier_map Control { Control_L };
	modifier_map Mod1    { Alt_L };
	modifier_map Mod2    { Super_L };
	modifier_map Mod3    { Meta_R };
	modifier_map Mod4    { Hyper_L };
	modifier_map Mod5    { ISO_Level3_Shift };
};

};

// Local Variables:
// indent-tabs-mode: t
// tab-always-indent: nil
// tab-width: 2
// End:
